---
layout: archive
title: "Publications"
permalink: /publications/
author_profile: true
---

{% if site.author.googlescholar %}
  <div class="wordwrap">
    You can also find my articles on 
    <a href="https://scholar.google.com/citations?user=aXGTpLgAAAAJ&hl=en">
      my Google Scholar profile
    </a>.
  </div>
{% endif %}

{% include base_path %}

<h3>Publications</h3>

<!-- Store unmatched publications -->
{% assign other_publications = "" | split: "," %}

<!-- ðŸ”¹ Loop through Groups first -->
{% for group_key in site.publication_groups %}
  {% assign group = site.publication_groups[group_key] %}
  {% assign group_title_shown = false %}

  <!-- ðŸ”¹ Loop through Categories inside each Group -->
  {% for category_key in site.publication_category %}
    {% assign category = site.publication_category[category_key] %}
    {% assign category_title_shown = false %}

    <!-- ðŸ”¹ Loop through Publications -->
    {% for post in site.publications reversed %}
      {% assign post_group = post.Group | strip | downcase %}
      {% assign post_category = post.Category | strip | downcase %}
      {% assign config_group = group.title | strip | downcase %}
      {% assign config_category = category.title | strip | downcase %}

      {% if post_group == config_group and post_category == config_category %}
        <!-- Show Group title only once -->
        {% unless group_title_shown %}
          <h2>{{ group.title }}</h2>
          <hr />
          {% assign group_title_shown = true %}
        {% endunless %}

        <!-- Show Category title only once -->
        {% unless category_title_shown %}
          <h3>{{ category.title }}</h3>
          {% assign category_title_shown = true %}
        {% endunless %}

        <!-- Include the publication -->
        {% include david-pub.html %}
      {% endif %}
    {% endfor %}
  {% endfor %}
{% endfor %}

<!-- ðŸ”¹ Capture unmatched publications in "Other" section -->
{% for post in site.publications reversed %}
  {% assign post_group = post.Group | strip | downcase %}
  {% assign post_category = post.Category | strip | downcase %}
  {% assign matched = false %}

  <!-- Check if post matches any Group -->
  {% for group_key in site.publication_groups %}
    {% assign group = site.publication_groups[group_key] %}
    {% if post_group == group.title | strip | downcase %}
      {% assign matched = true %}
    {% endif %}
  {% endfor %}

  <!-- Check if post matches any Category -->
  {% for category_key in site.publication_category %}
    {% assign category = site.publication_category[category_key] %}
    {% if post_category == category.title | strip | downcase %}
      {% assign matched = true %}
    {% endif %}
  {% endfor %}

  <!-- If no match, store for "Other" -->
  {% unless matched %}
    {% assign other_publications = other_publications | push: post %}
  {% endunless %}
{% endfor %}

<!-- ðŸ”¹ Display "Other" section if there are unmatched publications -->
{% if other_publications.size > 0 %}
  <h2>Other</h2>
  <hr />
  {% for post in other_publications %}
    {% include david-pub.html %}
  {% endfor %}
{% endif %}
