{% for group_key in site.publication_groups %}
  {% assign group = site.publication_groups[group_key] %}
  {% assign group_title_shown = false %}

  {% for category_key in site.publication_category %}
    {% assign category = site.publication_category[category_key] %}
    {% assign category_title_shown = false %}

    {% for post in site.publications reversed %}
      {% if post.Group == group.title and post.Category == category.title %}
        {% unless group_title_shown %}
          <h2>{{ group.title }}</h2>
          <hr />
          {% assign group_title_shown = true %}
        {% endunless %}

        {% unless category_title_shown %}
          <h3>{{ category.title }}</h3>
          {% assign category_title_shown = true %}
        {% endunless %}

        {% include david-pub.html %}
      {% endif %}
    {% endfor %}
  {% endfor %}
{% endfor %}
