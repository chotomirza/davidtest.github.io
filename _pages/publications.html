---
layout: archive
title: "Publications"
permalink: /publications/
author_profile: true
---

{% if site.author.googlescholar %}
  <div class="wordwrap">
    You can also find my articles on 
    <a href="https://scholar.google.com/citations?user=aXGTpLgAAAAJ&hl=en">
      my Google Scholar profile
    </a>.
  </div>
{% endif %}

{% include base_path %}

<h3>Debugging: Checking Categories & Groups</h3>

<!-- Debug: Check if categories exist -->
<p><strong>Checking site.publication_category:</strong></p>
<ul>
{% for category_key in site.publication_category %}
  <li>{{ category_key }} - {{ site.publication_category[category_key].title }}</li>
{% else %}
  <li>No categories found!</li>
{% endfor %}
</ul>

<!-- Debug: Check if groups exist -->
<p><strong>Checking site.publication_groups:</strong></p>
<ul>
{% for group_key in site.publication_groups %}
  <li>{{ group_key }} - {{ site.publication_groups[group_key].title }}</li>
{% else %}
  <li>No groups found!</li>
{% endfor %}
</ul>

<!-- Debug: Check if any publications exist -->
<p><strong>Checking site.publications:</strong></p>
<ul>
{% for post in site.publications %}
  <li>{{ post.Title }} (Category: {{ post.Category }}, Group: {{ post.Group }})</li>
{% else %}
  <li>No publications found!</li>
{% endfor %}
</ul>

<hr />

<h3>Publications</h3>

<!-- Loop through groups first -->
{% for group_key in site.publication_groups %}
  {% assign group = site.publication_groups[group_key] %}
  {% assign group_title_shown = false %}

  <!-- Loop through categories within each group -->
  {% for category_key in site.publication_category %}
    {% assign category = site.publication_category[category_key] %}
    {% assign category_title_shown = false %}

    <!-- Debug: Output category/group currently being processed -->
    <p>Checking for posts in Category: <strong>{{ category.title }}</strong> | Group: <strong>{{ group.title }}</strong></p>

    <!-- Loop through publications -->
    {% for post in site.publications reversed %}


{% for group_key in site.publication_groups %}
  {% assign group = site.publication_groups[group_key] %}

  {% for category_key in site.publication_category %}
    {% assign category = site.publication_category[category_key] %}

    <!-- ✅ Correctly assign group & category inside the loop -->
    {% assign config_group = group.title | strip | downcase %}
    {% assign config_category = category.title | strip | downcase %}

    <!-- Debugging: Print current group & category being processed -->
    <p>Processing Group: '{{ config_group }}', Category: '{{ config_category }}'</p>

    {% for post in site.publications reversed %}
      {% assign post_group = post.Group | strip | downcase %}
      {% assign post_category = post.Category | strip | downcase %}

      <!-- Debugging: Print current post's values -->
      <p>Comparing Post: '{{ post.Title }}' (Post Group: '{{ post_group }}', Post Category: '{{ post_category }}')</p>

      <!-- Ensure both values are correctly assigned before comparison -->
      {% if post_group == "" or post_category == "" %}
        <p style="color: red;">⚠️ Warning: Post missing Group or Category → {{ post.Title }}</p>
      {% endif %}

      {% if post_group != config_group %}
        <p style="color: orange;">Skipping: {{ post.Title }} (Group mismatch: '{{ post_group }}' ≠ '{{ config_group }}')</p>
        {% continue %}
      {% endif %}

      {% if post_category != config_category %}
        <p style="color: orange;">Skipping: {{ post.Title }} (Category mismatch: '{{ post_category }}' ≠ '{{ config_category }}')</p>
        {% continue %}
      {% endif %}

      <!-- Show group and category titles once -->
      {% unless group_title_shown %}
        <h2>{{ group.title }}</h2>
        <hr />
        {% assign group_title_shown = true %}
      {% endunless %}

      {% unless category_title_shown %}
        <h3>{{ category.title }}</h3>
        {% assign category_title_shown = true %}
      {% endunless %}

      {% include david-pub.html %}
    {% endfor %}
  {% endfor %}
{% endfor %}


      <!-- Check if publication matches both group and category -->
      {% if post_group != config_group %}
        <p>Skipping: {{ post.Title }} (Group mismatch: '{{ post_group }}' ≠ '{{ config_group }}')</p>
        {% continue %}
      {% endif %}

      {% if post_category != config_category %}
        <p>Skipping: {{ post.Title }} (Category mismatch: '{{ post_category }}' ≠ '{{ config_category }}')</p>
        {% continue %}
      {% endif %}

      <!-- Show group title once -->
      {% unless group_title_shown %}
        <h2>{{ group.title }}</h2>
        <hr />
        {% assign group_title_shown = true %}
      {% endunless %}

      <!-- Show category title once -->
      {% unless category_title_shown %}
        <h3>{{ category.title }}</h3>
        {% assign category_title_shown = true %}
      {% endunless %}

      <!-- Include publication template -->
      {% include david-pub.html %}
    {% endfor %}
  {% endfor %}
{% endfor %}

<!-- Collect all unclassified publications for "Other" section -->
{% assign other_publications = "" | split: "," %}
{% for post in site.publications reversed %}
  {% assign post_group = post.Group | strip | downcase %}
  {% assign post_category = post.Category | strip | downcase %}
  {% assign matched = false %}

  <!-- Check if publication matches any defined group -->
  {% for group_key in site.publication_groups %}
    {% assign group = site.publication_groups[group_key] %}
    {% if post_group == group.title | strip | downcase %}
      {% assign matched = true %}
    {% endif %}
  {% endfor %}

  <!-- Check if publication matches any defined category -->
  {% for category_key in site.publication_category %}
    {% assign category = site.publication_category[category_key] %}
    {% if post_category == category.title | strip | downcase %}
      {% assign matched = true %}
    {% endif %}
  {% endfor %}

  <!-- If it doesn't match any category or group, add to 'Other' -->
  {% unless matched %}
    {% assign other_publications = other_publications | push: post %}
  {% endunless %}
{% endfor %}

<!-- Show "Other" Section if needed -->
{% if other_publications.size > 0 %}
  <h2>Other</h2>
  <hr />
  {% for post in other_publications %}
    {% include david-pub.html %}
  {% endfor %}
{% endif %}
